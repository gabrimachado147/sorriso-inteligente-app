// This file is automatically generated. Do not edit it directly.
import { createClient } from '@supabase/supabase-js';
import type { Database } from './types';

// Use environment variables for Supabase credentials
const isTest = typeof process !== 'undefined' && process.env && process.env.JEST_WORKER_ID !== undefined;

function getEnvVar(name: string, fallback: string): string {
  if (typeof process !== 'undefined' && process.env && process.env[name]) {
    return process.env[name] as string;
  }
  try {
    // @ts-ignore
    if (import.meta && import.meta.env && import.meta.env[name]) {
      // @ts-ignore
      return import.meta.env[name];
    }
  } catch (e) { /* ignore */ }
  return fallback;
}

const SUPABASE_URL = getEnvVar('VITE_SUPABASE_URL', "https://bstppllwgzkacxxwhpes.supabase.co");
const SUPABASE_PUBLISHABLE_KEY = getEnvVar(
  'VITE_SUPABASE_ANON_KEY',
  // Quebra a string longa para evitar erro de sintaxe
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9." +
  "eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzdHBwbGx3Z3prYWN4eHdocGVzIiwicm9zZSI6ImFub24iLCJpYXQiOjE3NDkwNDk2MjgsImV4cCI6MjA2NDYyNTYyOH0." +
  "SiKjaaf41YS0hWvJZa0bQVzDePxAn0JhBP1_qRgmvjM"
);

// Import the supabase client like this:
// import { supabase } from "@/integrations/supabase/client";

export const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {
  auth: {
    persistSession: true,
    autoRefreshToken: true,
    detectSessionInUrl: true
  }
});
