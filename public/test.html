<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ü¶∑ Connectivity Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin: 0;
        }
        .container {
            background: rgba(255,255,255,0.95);
            color: #333;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            max-width: 600px;
            margin: 0 auto;
        }
        .status {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-weight: bold;
        }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        .warning { background: #fff3cd; color: #856404; border: 1px solid #ffeaa7; }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü¶∑ Sorriso Inteligente - Connection Test</h1>
        
        <div class="status success">
            ‚úÖ HTML Loading: SUCCESS
        </div>
        
        <div class="status info">
            üì° Server: http://localhost:8081/ is working
        </div>
        
        <div id="js-status" class="status warning">
            ‚è≥ JavaScript: Testing...
        </div>
        
        <div id="react-status" class="status warning">
            ‚è≥ React App: Checking...
        </div>
        
        <h3>Quick Actions:</h3>
        <button onclick="testReactApp()">üöÄ Try React App</button>
        <button onclick="window.location.reload()">üîÑ Refresh Page</button>
        <button onclick="openExternalBrowser()">üåê Open in Browser</button>
        
        <div style="margin-top: 20px; font-size: 14px; color: #666;">
            <strong>Debug Info:</strong><br>
            User Agent: <span id="user-agent"></span><br>
            Time: <span id="current-time"></span><br>
            URL: <span id="current-url"></span>
        </div>
    </div>

    <script>
        // Test JavaScript execution
        console.log('üîß Test page JavaScript loaded successfully!');
        
        document.getElementById('js-status').innerHTML = '‚úÖ JavaScript: WORKING';
        document.getElementById('js-status').className = 'status success';
        
        document.getElementById('user-agent').textContent = navigator.userAgent;
        document.getElementById('current-time').textContent = new Date().toLocaleString();
        document.getElementById('current-url').textContent = window.location.href;
        
        function testReactApp() {
            console.log('üöÄ Redirecting to React app...');
            window.location.href = '/';
        }
        
        function openExternalBrowser() {
            console.log('üåê Opening in external browser...');
            if (navigator.share) {
                navigator.share({
                    title: 'Sorriso Inteligente',
                    url: window.location.origin
                });
            } else {
                prompt('Copy this URL to your browser:', window.location.origin);
            }
        }
        
        // Test if React app is accessible
        fetch('/')
            .then(response => response.text())
            .then(html => {
                if (html.includes('root')) {
                    document.getElementById('react-status').innerHTML = '‚úÖ React App: Available';
                    document.getElementById('react-status').className = 'status success';
                } else {
                    document.getElementById('react-status').innerHTML = '‚ùå React App: HTML structure issue';
                    document.getElementById('react-status').className = 'status warning';
                }
            })
            .catch(error => {
                document.getElementById('react-status').innerHTML = '‚ùå React App: Network error - ' + error;
                document.getElementById('react-status').className = 'status warning';
                console.error('React app test failed:', error);
            });
            
        // Show success message
        setTimeout(() => {
            alert('üéâ Static HTML test successful! Click "Try React App" to test the main application.');
        }, 500);
    </script>
</body>
</html>
